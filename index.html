<!DOCTYPE html>
<html>
<head>
  <title>Call Mount | Free Video Call Service</title>
  <link rel="icon" href="https://hypercreeper.github.io/Call-Mount/icon.png">
  <script type='text/javascript' src='https://cdn.scaledrone.com/scaledrone.min.js'></script>
    <script src="https://chr15m.github.io/bugout/bugout.min.js" type="application/javascript"></script>
  <script>
    var roomHash = "call";
function createRoom() {
  roomHash = document.getElementById("roomcode").value;
  document.getElementById("begin").remove();
  document.getElementById("shareScr").hidden = false;
  location.hash = document.getElementById("roomcode").value;
}
  </script>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <style>
    body {
      display: flex;
      height: 100vh;
      margin: 0;
      align-items: center;
      justify-content: center;
      padding: 0 50px;
      font-family: -apple-system, BlinkMacSystemFont, sans-serif;
    }
    video {
      max-width: calc(50% - 100px);
      margin: 0 50px;
      box-sizing: border-box;
      border-radius: 2px;
      padding: 0;
      box-shadow: rgba(156, 172, 172, 0.2) 0px 2px 2px, rgba(156, 172, 172, 0.2) 0px 4px 4px, rgba(156, 172, 172, 0.2) 0px 8px 8px, rgba(156, 172, 172, 0.2) 0px 16px 16px, rgba(156, 172, 172, 0.2) 0px 32px 32px, rgba(156, 172, 172, 0.2) 0px 64px 64px;
    }
    .copy {
      position: fixed;
      top: 10px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 16px;
      color: rgba(0, 0, 0, 0.5);
    }
  </style>
</head>
<body>
  <div class="copy">Send your URL to a friend to start a video call</div>
  <div>
  <style>
    pre { color: #000; white-space: pre-wrap; word-wrap: break-word; text-shadow: 0 0 10px #ccc; }
    #input { border-bottom: 1px solid #ccc; background-color: #383838; padding: 0.25em; outline: 0; }
    #input::before { content: "> "; }
  </style>
  <script>
    function log(message) {
      document.getElementById("log").textContent += message + "\n";
    }
  </script>
  <pre id="log"></pre>
  <pre id="input" contenteditable="true"></pre>
<script>
  log("Hello world!");

  var b = Bugout("bugout-chat-tutorial");
  b.on("seen", function(address) { log(address + " [ seen ]"); });
  log(b.address() + " [ me ]");
  
  b.on("message", function(address, message) {
    log(address + ": " + message);
  });

  document.getElementById("input").onkeydown = function(ev) {
    if (ev.keyCode == 13) {
      if (b.lastwirecount) {
        b.send(ev.target.textContent);
        ev.target.textContent = "";
      }
      ev.preventDefault();
    }
  }

</script>
  </div>
  <div style="position: absolute; height: 100%; width: 100%; background-color: white;" id="begin">
    <input placeholder="Enter any room code" style="top: 50%; left: 45%;" id="roomcode">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="button" value="Join" onclick="var d = document.createElement('script'); d.src = 'script.js'; document.body.appendChild(d); document.getElementById('button').click();" style="top: 50%; left: 55%;"><input type="button" onclick="setTimeout(createRoom(), 1000);" id="button" hidden>
  </div>
  <video id="localVideo" autoplay muted></video>
  <video id="remoteVideo" autoplay></video><br><br>
  <br><br><br><br><br><br><button onclick="startWebRTC('', true)" id="shareScr" hidden>Share<br>Screen</button>
  <input type="checkbox" id="sharing" hidden>
  
</body>
</html>
